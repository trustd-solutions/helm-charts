app:
  name: axonserver
# platform: "ee" | "se"  
  platform: "ee"

statefulset:
  podManagementPolicy: Parallel
  # The 'replicas' value applies to the axonserver-ee only.
  # For the axonserver-se platform "replicas: 1"
  count: 3
  container:
    image: axoniq/axonserver-enterprise:4.6.5-jdk-11-dev
    workdir: /axonserver
    pullPolicy: Always

  env: []

  readiness:
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 12  

  liveness:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 2
    successThreshold: 1
    failureThreshold: 3

resources:
  limits:
    cpu: 1000m
    memory: 2000Mi
  requests:
    cpu: 250m
    memory: 500Mi

# The volumeIds, a list present in each volumeClaimTemplate within this Helm Chart is optional.
# It can be used if there are AWS EBS volumes to be used in the PVC. If the list is empty, the PVC will setup AWS EBS volumes.
# When using the volumeIds be aware that the list should have the same length equals to the axonserver statefulset replicas count.
# The EBS volumes will be binded to the PVCs in the same order as presented within the list.

# Example:
# data:  
#   volumeIds:
#    - vol-id0001  # AWS EBS id
#    - vol-id0002  # AWS EBS id

# The vol-id0001 will be attached to data-axonserver-0 
# The vol-id0002 will be attached to data-axonserver-1 

aws:
  azs: []

volumeClaimTemplates:
  storageClassName: ""
  data:
    enabled: true
    volumeIds: []
    accessModes:
      - ReadWriteOnce
    storage: 1Gi
  events:
    enabled: true
    volumeIds: []
    accessModes:
      - ReadWriteOnce
    storage: 5Gi
  exts:
    enabled: false
    volumeIds: []
    accessModes:
      - ReadWriteOnce
    storage: 5Gi
  plugins:
    enabled: false
    volumeIds: []
    accessModes:
      - ReadWriteOnce
    storage: 5Gi
  snapshots:
    enabled: true
    volumeIds: []
    accessModes:
      - ReadWriteOnce
    storage: 5Gi

axoniq:
  axonserver:
    devmode:
    # devmode is only applicable if .Values.app.plaform: se
      enabled: false
    # The licenseBase64 value is optional and it applies to the axonserver-ee only.
    licenseBase64: ""
    admin:
      userName: "admin"
      password: ""
    defaultContextName: default
    defaultReplicationGroupName: default
    properties:
      logging:
        maxHistory: 10
        maxSize: 10MB
    systemToken: ""
    propertiesBase64: ""
    clusterTemplateBase64: ""
    recoveryFileBase64: ""

service:
  ports:
    grpc: "8124"
    gui: "8024"

ingress:
  enabled: false
  host: ""
  annotations: {}
  tls_secret: axonserver-tls
