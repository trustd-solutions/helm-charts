app:
  name: axonserver
# platform: "ee" | "se"  
  platform: "ee"

statefulset:
  podManagementPolicy: Parallel
  count: 3
  container:
    image: axoniq/axonserver-enterprise:4.6.5-jdk-11-dev
    workdir: /axonserver
    pullPolicy: Always

  env: []

  readiness:
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 12  

  liveness:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 2
    successThreshold: 1
    failureThreshold: 3

resources:
  limits:
    cpu: 1000m
    memory: 2000Mi
  requests:
    cpu: 250m
    memory: 500Mi

nodeSelector: {}

aws:
  # .Values.aws.azs overwrites .Values.nodeSelector. It should be set as a list of AWS Avalability Zones names (AZ)
  # which its length should be equal to .Values.statefulset.count. An AZ from the list will be attached to each 
  # statefulset pod by corresponding the list order with the statefulset order.
  azs: []

# If "enabled" is set to false and it is not provided a previously set Kubernetes
# Persistent Volume Claim (PVC), the pods will use emptyDir volumes.

# If it is provided previously set Persistent Volume Claims (PVCs) 
# that has the same name as the PVCs provided by the volumeClaimTeamplates,
# the provided PVCs  will be used.

# Considering .Values.statefulset.replicas = 2
# PVC names example for the "data" volumeClaimTemplate: 
# data-{{.Release.Name}}-0
# data-{{.Release.Name}}-1

# accepted values for name are data, events, exts, plugins, snapshots.

volumeClaimTemplates:
  defaults:
    storageClassName: gp2-retain
  claims:
    data:
      enabled: true
      storageClassName: ""
      accessModes:
        - ReadWriteOnce
      storage: 1Gi
    events:
      enabled: true
      storageClassName: ""
      accessModes:
        - ReadWriteOnce
      storage: 5Gi
    exts:
      enabled: false
      storageClassName: ""
      accessModes:
        - ReadWriteOnce
      storage: 5Gi
    plugins:
      enabled: false
      storageClassName: ""
      accessModes:
        - ReadWriteOnce
      storage: 5Gi
    snapshots:
      enabled: true
      storageClassName: ""
      accessModes:
        - ReadWriteOnce
      storage: 5Gi

axoniq:
  axonserver:
    devmode:
      # devmode is only applicable if .Values.app.plaform: se
      enabled: false
    admin:
      userName: "admin"
      password: ""
    properties:
      logging:
        maxHistory: 10
        maxSize: 10MB
    # The licenseBase64 value is optional and it applies to the axonserver-ee only.
    licenseBase64: ""         
    defaultContextName: default
    defaultReplicationGroupName: default
    systemToken: ""
    # If this value is not empty when decoded, it overwrites the axonserver properties provided by this Helm chart.
    propertiesBase64: ""
    # If this value is not empty when decoded, it overwrites the axonserver cluster-template provided by this Helm chart.
    clusterTemplateBase64: ""
    recoveryFileBase64: ""

service:
  ports:
    grpc: "8124"
    gui: "8024"

ingress:
  enabled: false
  host: ""
  annotations: {}
  tls_secret: axonserver-tls
